Testautomatisierung

Hat man jetzt einen Algorithmus entwickelt und möchte sicherstellen dass dieser auch dauerhaft richtig läuft gibt es zwei Möglichkeiten. Man probiert es manuell oder man Automatisiert den Test. Die Testautomatisierung ist ein wichtiger Bestandteil der modernen Softwareentwicklung. Bis Anfang der 2010er Jahre hat man die Testautomatisierung sehr stark vernachlässigt. Die Software wurde manuell von Menschen getestet oft auch von dem Entwickler selbst. Manuelle Tests sind zeitaufwendig und sind vor allem sehr fehleranfällig. Wenn man alle Funktionen mit vielen möglich Kombinationen schon bei einer kleinen Webseite testen möchte, ist das eine Herausforderung. Man darf nicht nur sinnvolle Eingaben testen. Die Benutzer geben nicht immer nur sinnvolle Daten ein. Also umfasst der Test auch die Validierungen der eingegebenen Daten, was passiert wenn man Daten weglässt, wie schnell reagiert das Programm wenn man große Datenmengen eingegeben hat usw. 

Hier kommen wir zu einem Problem was jede Software über kurz oder lang scheitern lässt, wenn man die Tests nicht automatisiert. Bei jedem Release wird Code geändert neue Features hinzugefügt. Das kann aber dazu führen, dass schon getesteten Features nicht mehr funktionieren. D.h. man muss bei jedem Release nicht nur die neuen Features testen, sondern auch die schon vorhandenen Features. Das führt am Ende dazu, dass die Testzeit die vor jedem Release investiert wird immer länger und länger wird. Dann hat man zwei Möglichkeiten, entweder man lässt die Qualität sinken, indem man weniger testet oder man reduziert die Anzahl der neuen Features. Über kurz oder lang wird es das Projekt scheitern lassen. Irgendwann haben Sie ein Legacysystem geschaffen, welches sehr stark in Ihrem Unternehmen verwurzelt ist aber keiner traut sich noch einmal Änderungen vorzunehmen. Hier hilft nur, Geld in die Hand nehmen und neu entwickeln. Das ist kein Horrorszenario, das ist die Software Entwicklung bis in die 2000er Jahre hinein und ist es heute auch noch, wenn man nicht erkennt wie wichtig Testautomatisierung ist. 

Ein Legacy System ist eine Software die man als Altlast bezeichnen kann. Eine Software die in dem Unternehmen verwachsen, aber unwartbar geworden ist. Man möchte diese Software eigentlich neu entwickeln, weil sie an Ihre technischen Grenzen stößt, aber die Software ist so stark in das Unternehmen integriert mit sehr vielen Sonderfällen die nicht dokumentiert sind, dass es viel Geld kostet diese abzulösen.

In der Testautomatisierung wird nicht nur das Feature entwickelt, sondern auch Code, der testet ob das Feature auch funktioniert. Nehmen wir das Beispiel von oben, also ein Funktion die eine Liste sortiert, wird entwickelt. Der Entwickler implementiert den Algorithmus, dann schreibt man zusätzlich eine Testfunktion die den Algorithmus aufrufen und überprüfen ob die Liste sortiert zurückkommt. Im Idealfall schreibt man sogar mehrere Testfunktionen, die alle Testfälle abdecken. Kann man der Sortierfunktion z.B. mitgeben, dass die Liste aufsteigend oder absteigend sortiert wird, hat man schon zwei Testfälle. Man kann eine große Liste mitgeben, um zu prüfen, ob der Algorithmus in einer bestimmten Zeit durchläuft. Also man entwickelt unter Umständen sehr viel Testcode. 

Ein großes Problem bei Testautomatisierung ist, dass der produktive Code testbar programmiert werden muss. Wenn man hier die Tests nicht sofort zu Beginn eines Projektes mit entwickelt wird es schwer und teuer diese nachzuziehen. Deswegen kann man, wenn man ein Legacyprojekt hat, wo die Testphase immer länger wird, nicht einfach die Testautomatisierung nachziehen. Hier hilft nur eine Neuimplementierung.

Gerade in agilen Projekten, wo sich ständig die Anforderungen ändern und man in kurzen Zyklen arbeitet, ist eine Testautomatisierung essenziell. Wenn man in zwei Wochen Sprints Features entwickeln und diese auch Testen muss, sind manuelle Tests kontraproduktiv. Nichts destotrotz sind manuelle Testen nötig und sinnvoll.

Es gibt mehrere Ebenen für Tests und auch sehr unterschiedliche Arten von Tests, dass es ganze Bücher füllt. Hier die wichtigsten:

**Unit Tests**: Testet eine Funktion, einen Algorithmus, die kleinste Einheit im Code. Man ruft eine Funktion mit verschiedenen Übergabeparameter auf und überprüft, ob das Ergebnis stimmt. Die Übergabeparameter müssen variieren, um verschiedene Anforderungen an die Funktion zu testen

**Integration Tests**: Die Integration Tests testen ein Zusammenspiel von mehreren Funktionen. Z.B. könnte man eine API eines Programms aufrufen und testen, ob die Daten die zurückkommen auch stimmen. 

**UI Tests**: UI Tests sind Tests die die Maus bewegen und das Klicken des Nutzers nachahmen. Die Tests dauern normalerweise auch so lange wie ein echter Mensch benötigen würde. Das sollte man nicht übertreiben und vielleicht die Hauptfeatures testen. Das kann schnell ausufern und nichts ändert sich so schnell wie die UI und am Ende ist man nur noch am Nachziehen der Tests. Auch wenn es dauert bis die Tests durchlaufen kann man diese viel leichter parallelisieren als wenn man noch mehrere Tester einstellt.

**Smoke Test**: Ein einfacher Test, der überprüft ob das System überhaupt noch hochfährt

**Manuelle Tests**: Nichtsdestotrotz sollte ein Mensch nochmal über die Anwendung drüber sehen und die Haupt-UseCases zu testen.
